{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport * as React from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport * as Permissions from 'expo-permissions';\nimport { BarCodeScanner } from 'expo-barcode-scanner';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar QRscanner = function (_React$Component) {\n  _inherits(QRscanner, _React$Component);\n  var _super = _createSuper(QRscanner);\n  function QRscanner() {\n    var _this;\n    _classCallCheck(this, QRscanner);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      hasCameraPermission: null,\n      scanned: false\n    };\n    _this.getPermissionsAsync = _asyncToGenerator(function* () {\n      var _yield$Permissions$as = yield Permissions.askAsync(Permissions.CAMERA),\n        status = _yield$Permissions$as.status;\n      _this.setState({\n        hasCameraPermission: status == \"granted\"\n      });\n    });\n    _this.handleBarCodeScanned = function (_ref2) {\n      var type = _ref2.type,\n        data = _ref2.data;\n      _this.setState({\n        scanned: true\n      });\n      alert(\"Bar code with type \" + type + \" and data \" + data + \" has been scanned!\");\n    };\n    return _this;\n  }\n  _createClass(QRscanner, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(function* () {\n        this.getPermissionsAsync();\n      });\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n      return componentDidMount;\n    }()\n  }, {\n    key: \"scan\",\n    value: function scan(data) {\n      console.log(data);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n        hasCameraPermission = _this$state.hasCameraPermission,\n        scanned = _this$state.scanned;\n      console.warn(hasCameraPermission);\n      if (hasCameraPermission === null) {\n        return _jsx(Text, {\n          children: \" Requesting for camera permission \"\n        });\n      }\n      if (hasCameraPermission === false) {\n        return _jsx(Text, {\n          children: \" No access to camera \"\n        });\n      }\n      return _jsx(View, {\n        style: {\n          flex: 1,\n          flexDirection: 'column',\n          justifyContent: 'flex-end'\n        },\n        children: _jsx(BarCodeScanner, {\n          onBarCodeScanned: this.scan,\n          style: StyleSheet.absoluteFillObject\n        })\n      });\n    }\n  }]);\n  return QRscanner;\n}(React.Component);\nexport { QRscanner as default };","map":{"version":3,"names":["React","Permissions","BarCodeScanner","QRscanner","state","hasCameraPermission","scanned","getPermissionsAsync","askAsync","CAMERA","status","setState","handleBarCodeScanned","type","data","alert","console","log","warn","flex","flexDirection","justifyContent","scan","StyleSheet","absoluteFillObject","Component"],"sources":["/Users/ethanweilheimer/Find-It/frontend/scanner/QRscanner.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  Text,\n  View,\n  StyleSheet,\n  Button\n} from 'react-native';\nimport Constants from 'expo-constants';\nimport * as Permissions from 'expo-permissions';\n\nimport {BarCodeScanner} from 'expo-barcode-scanner';\n\nexport default class QRscanner extends React.Component {\n  state = {\n    hasCameraPermission: null,\n    scanned: false,\n  };\n\n  async componentDidMount() {\n    this.getPermissionsAsync();\n  }\n\n  getPermissionsAsync = async() => {\n    const {status} = await Permissions.askAsync(Permissions.CAMERA);\n    this.setState({\n      hasCameraPermission: (status == \"granted\")\n    });\n  };\n  scan (data:any){\n    console.log(data)\n  }\n  render() {\n    const {hasCameraPermission,scanned} = this.state;\n    console.warn(hasCameraPermission)\n    if (hasCameraPermission === null) {\n      return (<Text> Requesting for camera permission </Text>);\n    }\n    if (hasCameraPermission === false) {\n      return (<Text> No access to camera </Text>);\n    }\n    return ( <View style = {\n        {\n          flex: 1,\n          flexDirection: 'column',\n          justifyContent: 'flex-end',\n        }\n      } >\n      <BarCodeScanner onBarCodeScanned ={this.scan}\n      style = {\n        StyleSheet.absoluteFillObject\n      }/>\n\n      </View>\n    );\n  }\n\n  handleBarCodeScanned = ({\n    type,\n    data\n  }) => {\n    this.setState({\n      scanned: true\n    });\n    alert(`Bar code with type ${type} and data ${data} has been scanned!`);\n  };\n}"],"mappings":";;;;;;;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAAC;AAAA;AAAA;AAQ/B,OAAO,KAAKC,WAAW,MAAM,kBAAkB;AAE/C,SAAQC,cAAc,QAAO,sBAAsB;AAAC;AAAA,IAE/BC,SAAS;EAAA;EAAA;EAAA;IAAA;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA,MAC5BC,KAAK,GAAG;MACNC,mBAAmB,EAAE,IAAI;MACzBC,OAAO,EAAE;IACX,CAAC;IAAA,MAMDC,mBAAmB,qBAAG,aAAW;MAC/B,kCAAuBN,WAAW,CAACO,QAAQ,CAACP,WAAW,CAACQ,MAAM,CAAC;QAAxDC,MAAM,yBAANA,MAAM;MACb,MAAKC,QAAQ,CAAC;QACZN,mBAAmB,EAAGK,MAAM,IAAI;MAClC,CAAC,CAAC;IACJ,CAAC;IAAA,MA6BDE,oBAAoB,GAAG,iBAGjB;MAAA,IAFJC,IAAI,SAAJA,IAAI;QACJC,IAAI,SAAJA,IAAI;MAEJ,MAAKH,QAAQ,CAAC;QACZL,OAAO,EAAE;MACX,CAAC,CAAC;MACFS,KAAK,yBAAuBF,IAAI,kBAAaC,IAAI,wBAAqB;IACxE,CAAC;IAAA;EAAA;EAAA;IAAA;IAAA;MAAA,2CA9CD,aAA0B;QACxB,IAAI,CAACP,mBAAmB,EAAE;MAC5B,CAAC;MAAA;QAAA;MAAA;MAAA;IAAA;EAAA;IAAA;IAAA,OAQD,cAAMO,IAAQ,EAAC;MACbE,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;IACnB;EAAC;IAAA;IAAA,OACD,kBAAS;MACP,kBAAsC,IAAI,CAACV,KAAK;QAAzCC,mBAAmB,eAAnBA,mBAAmB;QAACC,OAAO,eAAPA,OAAO;MAClCU,OAAO,CAACE,IAAI,CAACb,mBAAmB,CAAC;MACjC,IAAIA,mBAAmB,KAAK,IAAI,EAAE;QAChC,OAAQ,KAAC,IAAI;UAAA,UAAC;QAAkC,EAAO;MACzD;MACA,IAAIA,mBAAmB,KAAK,KAAK,EAAE;QACjC,OAAQ,KAAC,IAAI;UAAA,UAAC;QAAqB,EAAO;MAC5C;MACA,OAAS,KAAC,IAAI;QAAC,KAAK,EAChB;UACEc,IAAI,EAAE,CAAC;UACPC,aAAa,EAAE,QAAQ;UACvBC,cAAc,EAAE;QAClB,CACD;QAAA,UACD,KAAC,cAAc;UAAC,gBAAgB,EAAG,IAAI,CAACC,IAAK;UAC7C,KAAK,EACHC,UAAU,CAACC;QACZ;MAAE,EAEI;IAEX;EAAC;EAAA;AAAA,EA1CoCxB,KAAK,CAACyB,SAAS;AAAA,SAAjCtB,SAAS"},"metadata":{},"sourceType":"module"}